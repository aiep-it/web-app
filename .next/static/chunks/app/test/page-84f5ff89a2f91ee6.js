(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{13644:(e,t,a)=>{Promise.resolve().then(a.bind(a,15553))},15553:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(95155),r=a(61976),s=a(12115);function n(){let{user:e}=(0,r.Jd)(),[t,a]=(0,s.useState)((null==e?void 0:e.firstName)||""),[n,o]=(0,s.useState)((null==e?void 0:e.lastName)||""),c=async()=>{if(e)try{await e.update({firstName:t,lastName:n}),alert("Hồ sơ đ\xe3 được cập nhật")}catch(e){console.error("Lỗi cập nhật hồ sơ:",e)}};return(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"T\xean",className:"border p-2 mb-2 w-full"}),(0,l.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"Họ",className:"border p-2 mb-2 w-full"}),(0,l.jsx)("button",{onClick:c,className:"bg-blue-500 text-white p-2 rounded",children:"Cập nhật"})]})}function o(){let{user:e}=(0,r.Jd)();console.log("Current user:",e);let t=async()=>{if(e)try{if((await fetch("http://localhost:3000/api/users/update-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,role:"admin"})})).ok)alert("Role updated");else throw Error("Failed to update role")}catch(e){console.error("Error:",e)}};return(0,l.jsx)("button",{onClick:t,className:"bg-green-500 text-white p-2 rounded",children:"Set Admin Role"})}function c(){return(0,l.jsxs)("div",{className:"p-8 space-y-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Test Update Profile & Role"}),(0,l.jsx)(n,{}),(0,l.jsx)(o,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[976,441,684,358],()=>t(13644)),_N_E=e.O()}]);