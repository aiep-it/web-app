(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{13644:(e,t,a)=>{Promise.resolve().then(a.bind(a,27246))},27246:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(95155),r=a(61976),l=a(12115);function s(){let{user:e}=(0,r.Jd)(),[t,a]=(0,l.useState)((null==e?void 0:e.firstName)||""),[s,o]=(0,l.useState)((null==e?void 0:e.lastName)||""),c=async()=>{if(e)try{await e.update({firstName:t,lastName:s}),alert("Hồ sơ đ\xe3 được cập nhật")}catch(e){console.error("Lỗi cập nhật hồ sơ:",e)}};return(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"T\xean",className:"border p-2 mb-2 w-full"}),(0,n.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"Họ",className:"border p-2 mb-2 w-full"}),(0,n.jsx)("button",{onClick:c,className:"bg-blue-500 text-white p-2 rounded",children:"Cập nhật"})]})}let o={AUTHEN:{ROLE:"/users/update-metadata"}};var c=a(49509),i=a(13458);let u=e=>{let{status:t,message:a=""}=e;401===t?(0,i.$U)({title:a||"Chưa đăng nhập",color:"danger"}):(0,i.$U)({title:a||"Vui l\xf2ng kiểm tra lại",color:"danger"})},d=a(23464).A.create({baseURL:(()=>{let e=c.env.NEXT_PUBLIC_API_URL,t=c.env.API_VERSION;return e&&t?"".concat(e,"/").concat(t):"/"})(),withCredentials:!0,timeout:1e4,headers:{"Content-Type":"application/json"}});async function h(e){try{return await d.post(o.AUTHEN.ROLE,e).then(e=>200===e.status?e.data:null).catch(e=>console.log(e))}catch(e){return null}}function p(){let{user:e}=(0,r.Jd)(),t=async()=>{if(!e)return void(0,i.$U)({title:"Please Signin",color:"danger"});let t={userId:e.id,role:"admin"};await h(t)&&(0,i.$U)({title:"Ok",color:"success"})};return(0,n.jsx)("button",{onClick:t,className:"bg-green-500 text-white p-2 rounded",children:"Set Admin Role"})}function m(){return(0,n.jsxs)("div",{className:"p-8 space-y-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Test Update Profile & Role"}),(0,n.jsx)(s,{}),(0,n.jsx)(p,{})]})}d.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),console.log(e.headers),e},e=>Promise.reject(e)),d.interceptors.response.use(e=>e,e=>(console.log("error",e.status),u({status:(null==e?void 0:e.status)||400}),Promise.reject(e)))}},e=>{var t=t=>e(e.s=t);e.O(0,[976,959,458,464,441,684,358],()=>t(13644)),_N_E=e.O()}]);